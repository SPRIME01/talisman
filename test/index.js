/*jshint node:true, esversion:6, maxlen: 120 */

"use strict";
// jquery-like api for navigating the dom of html generated by the templating engine
const path = require("path");
const talisman = require("../lib/talisman");

process.on("unhandledRejection", function (err) {
    console.log("Unhandled Rejection: " + err.stack || err);
});

function templateTest (test) {
    const templateFile = path.join(__dirname, "testTemplate.html");
    const template = talisman.template(templateFile);

    console.log("\t<<< BEGIN STREAM >>>\n");
    template.toStream()
    .on("data", chunk => {
        console.log(chunk.toString("utf8"));
    })
    .on("end", _ => {
        console.log("\n\t <<< END OF STREAM >>>\n");
        test.done();
    });
}

module.exports = {
    templateTest
};
